###############################################################################
#
# This is the additional jtreg exclude list for SapMachine hotspot tests.
#
# List of tests that should not be run by test/Makefile, for various reasons:
#   1. Does not run with jtreg -samevm mode
#   2. Causes problems in jtreg -samevm mode for jtreg or tests that follow it
#   3. The test is too slow or consumes too many system resources
#   4. The test fails when run on any official build systems
#
# Tests marked @ignore are not run by test/Makefile, but harmless to be listed.
#
# List items are testnames followed by labels, all MUST BE commented
#   as to why they are here and use a label:
#     generic-all   Problems on all platforms
#     generic-ARCH  Where ARCH is one of: sparc, sparcv9, x64, i586, ppc64,
#                   ppc64le, s390x etc
#     OSNAME-all    Where OSNAME is one of: solaris, linux, windows, macosx, aix
#     OSNAME-ARCH   Specific on to one OSNAME and ARCH, e.g. solaris-amd64
#     OSNAME-REV    Specific on to one OSNAME and REV, e.g. solaris-5.8
#
# More than one label is allowed but must be on the same line comma seperated,
# without spaces!
# If there are several lines, the last one is used.
#
# SAP/SapMachine usage notes:
#
# This exclude list is a vehicle only for temporary exclusions of tests
# or exclusions that are caused by infrastrucure specifics.
#
# Our first goal is to fix test issues upstream or at least open upstream
# bugs and get the test excluded via the upstream exclusion list.
#
# This list is refreshed periodically from an SAP-internal version,
# removing comments which reveal internal URLs, names or hostnames.
#
# It might contain additional test exclusions, specific to the SapMachine build
# and test infrastructure. That section is found at the end of the file.
#
###############################################################################

###############################################################################
# New failures detected after GA or caused by changes pushed after GA of 11.

# SapMachine 2019-04-29
# Sporadic timeout 11 only since 3.3.2019, which is probably the date we started to run these again.
# SapMachine 2023-08-03 Enable again and see what happens
#vmTestbase/nsk/jdb/unwatch/unwatch002/unwatch002.java                                generic-all

###############################################################################
# New failures detected after GA of 11.0.3 (e.g. seen only in jdk11u-dev after branching 11.0.3 to jdk11u)

# SapMachine 2019-06-28
# RuntimeException: '.*(?:HotSpot|OpenJDK).*VM.*' missing from stdout/stderr or just timeout. Seen also in 13.
#
#
# SapMachine 2019-08-08 Backported 8205654 to 11 - but this will probably fix the issue for linux only.
# For Windows, we should keep the test excluded or we'll see some failing tests sporadically.
# SapMachine 2023-08-03 Enable again and see what happens
#serviceability/dcmd/framework/VMVersionTest.java                                     windows-all

###############################################################################
# New failures detected after GA of 11.0.7 (e.g. seen only in jdk11u-dev after branching 11.0.7 to jdk11u)

# SapMachine 2020-04-09
# We see some new failures on aarch64, 11u only. They probably aren't new but
# we just started to run tests for 11u on that platform lately
# SapMachine 2023-08-03 try again
#
#compiler/c2/cr6340864/TestIntVect.java                                               linux-aarch64
#
#
#compiler/c2/cr6340864/TestLongVect.java                                              linux-aarch64
#
#
#compiler/c2/cr6340864/TestShortVect.java                                             linux-aarch64
#
#
#compiler/codegen/TestCharVect2.java                                                  linux-aarch64

###############################################################################
# New failures detected after GA of 11.0.17 (e.g. seen only in jdk11u-dev after branching 11.0.17 to jdk11u)

# SapMachine 2022-10-17 Issues on ... zGC is not fully supported in 11, so excluding there
# SapMachine 2023-08-03 try again
#
#compiler/gcbarriers/UnsafeIntrinsicsTest.java#z                                      linux-x64
# SapMachine 2023-08-03 try again
#
#gc/stress/gcold/TestGCOldWithZ.java                                                  linux-x64

#############################################################################
# Tests known to be failing in SapMachine due to SapMachine specific setup.

# SapMachine 2018-10-05
# This test fails, because we do not have debug symbols available in all tests.
#runtime/NMT/CheckForProperDetailStackTrace.java                                      generic-all

# SapMachine 2019-01-30 These tests fail for some reason on linux-ppc64le and linux-ppc64. Need to investigate.
#gc/g1/humongousObjects/TestHumongousClassLoader.java                                 linux-ppc64le,linux-ppc64
#gc/g1/humongousObjects/TestHumongousNonArrayAllocation.java                          linux-ppc64le,linux-ppc64

# SapMachine 2019-01-30
# This test fails for some reason on linux-ppc64le and linux-ppc64. Need to investigate.
#compiler/runtime/cr6891750/Test6891750.java                                          linux-ppc64le,linux-ppc64

# SapMachine 2020-02-21
# This test started to fail lately on Windows in SapMachine CI.
#serviceability/sa/ClhsdbJstackXcompStress.java                                       windows-all

# SapMachine 2022-12-20
# Excluding a few AOT tests on Mac since they fail in our test systems due to issues with "/usr/bin/ld"
#compiler/aot/DeoptimizationTest.java                                                 macosx-x64
#compiler/aot/RecompilationTest.java                                                  macosx-x64
#compiler/aot/SharedUsageTest.java                                                    macosx-x64
#compiler/aot/TestHeapBase.java                                                       macosx-x64
#compiler/aot/calls/fromAot/AotInvokeDynamic2AotTest.java                             macosx-x64
#compiler/aot/calls/fromAot/AotInvokeDynamic2CompiledTest.java                        macosx-x64
#compiler/aot/calls/fromAot/AotInvokeDynamic2InterpretedTest.java                     macosx-x64
#compiler/aot/calls/fromAot/AotInvokeDynamic2NativeTest.java                          macosx-x64
#compiler/aot/calls/fromAot/AotInvokeInterface2AotTest.java                           macosx-x64
#compiler/aot/calls/fromAot/AotInvokeInterface2CompiledTest.java                      macosx-x64
#compiler/aot/calls/fromAot/AotInvokeInterface2InterpretedTest.java                   macosx-x64
#compiler/aot/calls/fromAot/AotInvokeInterface2NativeTest.java                        macosx-x64
#compiler/aot/calls/fromAot/AotInvokeSpecial2AotTest.java                             macosx-x64
#compiler/aot/calls/fromAot/AotInvokeSpecial2CompiledTest.java                        macosx-x64
#compiler/aot/calls/fromAot/AotInvokeSpecial2InterpretedTest.java                     macosx-x64
#compiler/aot/calls/fromAot/AotInvokeSpecial2NativeTest.java                          macosx-x64
#compiler/aot/calls/fromAot/AotInvokeStatic2AotTest.java                              macosx-x64
#compiler/aot/calls/fromAot/AotInvokeStatic2CompiledTest.java                         macosx-x64
#compiler/aot/calls/fromAot/AotInvokeStatic2InterpretedTest.java                      macosx-x64
#compiler/aot/calls/fromAot/AotInvokeStatic2NativeTest.java                           macosx-x64
#compiler/aot/calls/fromAot/AotInvokeVirtual2AotTest.java                             macosx-x64
#compiler/aot/calls/fromAot/AotInvokeVirtual2CompiledTest.java                        macosx-x64
#compiler/aot/calls/fromAot/AotInvokeVirtual2InterpretedTest.java                     macosx-x64
#compiler/aot/calls/fromAot/AotInvokeVirtual2NativeTest.java                          macosx-x64
#compiler/aot/calls/fromCompiled/CompiledInvokeDynamic2AotTest.java                   macosx-x64
#compiler/aot/calls/fromCompiled/CompiledInvokeInterface2AotTest.java                 macosx-x64
#compiler/aot/calls/fromCompiled/CompiledInvokeSpecial2AotTest.java                   macosx-x64
#compiler/aot/calls/fromCompiled/CompiledInvokeStatic2AotTest.java                    macosx-x64
#compiler/aot/calls/fromCompiled/CompiledInvokeVirtual2AotTest.java                   macosx-x64
#compiler/aot/calls/fromInterpreted/InterpretedInvokeDynamic2AotTest.java             macosx-x64
#compiler/aot/calls/fromInterpreted/InterpretedInvokeInterface2AotTest.java           macosx-x64
#compiler/aot/calls/fromInterpreted/InterpretedInvokeSpecial2AotTest.java             macosx-x64
#compiler/aot/calls/fromInterpreted/InterpretedInvokeStatic2AotTest.java              macosx-x64
#compiler/aot/calls/fromInterpreted/InterpretedInvokeVirtual2AotTest.java             macosx-x64
#compiler/aot/calls/fromNative/NativeInvokeSpecial2AotTest.java                       macosx-x64
#compiler/aot/calls/fromNative/NativeInvokeStatic2AotTest.java                        macosx-x64
#compiler/aot/calls/fromNative/NativeInvokeVirtual2AotTest.java                       macosx-x64
#compiler/aot/cli/DisabledAOTWithLibraryTest.java                                     macosx-x64
#compiler/aot/cli/MultipleAOTLibraryTest.java                                         macosx-x64
#compiler/aot/cli/SingleAOTLibraryTest.java                                           macosx-x64
#compiler/aot/cli/SingleAOTOptionTest.java                                            macosx-x64
#compiler/aot/cli/jaotc/AtFileTest.java                                               macosx-x64
#compiler/aot/cli/jaotc/CompileClassTest.java                                         macosx-x64
#compiler/aot/cli/jaotc/CompileClassWithDebugTest.java                        8303074 linux-aarch64,macosx-x64
#compiler/aot/cli/jaotc/CompileDirectoryTest.java                                     macosx-x64
#compiler/aot/cli/jaotc/CompileJarTest.java                                           macosx-x64
#compiler/aot/cli/jaotc/CompileModuleTest.java                                        macosx-x64
#compiler/aot/cli/jaotc/IgnoreErrorsTest.java                                         macosx-x64
#compiler/aot/cli/jaotc/ListOptionTest.java                                           macosx-x64
#compiler/aot/cli/jaotc/ListOptionWrongFileTest.java                                  macosx-x64
#compiler/aot/fingerprint/SelfChanged.java                                            macosx-x64
#compiler/aot/fingerprint/SelfChangedCDS.java                                         macosx-x64
#compiler/aot/fingerprint/SuperChanged.java                                           macosx-x64
#compiler/aot/verification/ClassAndLibraryNotMatchTest.java                           macosx-x64
